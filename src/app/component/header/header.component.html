<header class="header" role="banner">
  <div class="header__inner">
    <div class="header__branding">
      <button class="header-home-link" (click)="navigateToHome()">
        <span class="logo" aria-label="UnderSounds">undersounds</span>
        <span class="tagline">descubre música independiente</span>
      </button>
    </div>

    <!-- LOGGED IN -->
    <div *ngIf="isLoggedIn$ | async; else loggedOut" class="header__actions">

      <!-- Admin -->
      <button type="button" class="header-link" *ngIf="(userRole$ | async) === 'admin'"
        (click)="navigateToUserDashboard()">
        <mat-icon>dashboard</mat-icon>
        Usuarios
      </button>

      <!-- Carrito -->
      <button type="button" class="header-link" (click)="navigateToCart()">
        <mat-icon>shopping_cart</mat-icon>
      </button>

      <!-- Acciones para ARTISTAS -->
      <button type="button" *ngIf="(userRole$ | async) === 'artista'" class="header-link"
        (click)="navigateToModifyMerch()">
        <span class="header-link__label">Mi merch</span>
      </button>

      <button type="button" *ngIf="(userRole$ | async) === 'artista'" class="header-link"
        (click)="navigateToModifySection()">
        <span class="header-link__label">Modificar creaciones</span>
      </button>

      <button type="button" *ngIf="(userRole$ | async) === 'artista'" class="header-link"
        (click)="navigateToUploadSong()">
        <span class="header-link__label">subir canción</span>
      </button>

      <button type="button" *ngIf="(userRole$ | async) === 'artista'" class="header-link"
        (click)="navigateToUploadAlbum()">
        <span class="header-link__label">subir álbum</span>
      </button>

      <!-- Perfil -->
      <button type="button" class="header-link" (click)="navigateToProfile()">
        <mat-icon>account_circle</mat-icon>
      </button>

      <button type="button" class="header-link" (click)="logout()">
        <mat-icon>logout</mat-icon>
      </button>
    </div>

    <!-- LOGGED OUT -->
    <ng-template #loggedOut>
      <div class="header__actions">
        <button type="button" class="header-link" (click)="navigateToRegister()">
          <span class="header-link__label">crear cuenta</span>
        </button>
        <button type="button" class="header-link" (click)="navigateToLogin()">
          <span class="header-link__label">Iniciar sesión</span>
        </button>
      </div>
    </ng-template>
  </div>
</header>