<section class="confirmation-page">
  <div class="confirmation-container" *ngIf="order">
    <!-- Icono de √©xito -->
    <div class="success-icon">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="20 6 9 17 4 12"></polyline>
      </svg>
    </div>

    <!-- Mensaje de confirmaci√≥n -->
    <header class="confirmation-header">
      <h1>¬°Pedido confirmado!</h1>
      <p class="subtitle">
        Gracias por tu compra. Tu pedido ha sido procesado correctamente.
      </p>
      <p class="order-number">
        N√∫mero de pedido: <strong>{{ order.orderId }}</strong>
      </p>
    </header>

    <!-- Detalles del pedido -->
    <div class="order-details">
      <section class="details-section">
        <h2>Detalles del pedido</h2>
        
        <div class="order-info">
          <div class="info-row">
            <span class="label">Fecha:</span>
            <span class="value">{{ order.orderDate | date:'dd/MM/yyyy HH:mm' }}</span>
          </div>
          <div class="info-row">
            <span class="label">Total de art√≠culos:</span>
            <span class="value">{{ itemsCount }} {{ itemsCount === 1 ? 'art√≠culo' : 'art√≠culos' }}</span>
          </div>
          <div class="info-row highlight">
            <span class="label">Total pagado:</span>
            <span class="value">{{ orderTotal | number:'1.2-2' }} ‚Ç¨</span>
          </div>
        </div>
      </section>

      <!-- Art√≠culos del pedido -->
      <section class="details-section">
        <h2>Art√≠culos comprados</h2>
        
        <div class="order-items">
          <div class="order-item" *ngFor="let item of order.items">
            <div class="item-info">
              <h3>{{ item.productName }}</h3>
              <p class="item-type">{{ item.type === 'album' ? '√Ålbum' : 'Merchandising' }}</p>
            </div>
            <div class="item-quantity">
              <span>x{{ item.quantity }}</span>
            </div>
            <div class="item-price">
              <span>{{ item.unitPrice | number:'1.2-2' }} ‚Ç¨</span>
            </div>
            <div class="item-total">
              <strong>{{ (item.unitPrice * item.quantity) | number:'1.2-2' }} ‚Ç¨</strong>
            </div>
          </div>
        </div>
      </section>

      <!-- Informaci√≥n adicional -->
      <section class="details-section info-box">
        <h3>üìß ¬øQu√© sigue?</h3>
        <ul>
          <li>Recibir√°s un email de confirmaci√≥n con los detalles de tu pedido.</li>
          <li>Los √°lbumes digitales estar√°n disponibles en tu biblioteca inmediatamente.</li>
          <li>El merchandising f√≠sico ser√° enviado en los pr√≥ximos 3-5 d√≠as laborables.</li>
          <li>Puedes consultar el estado de tu pedido en tu panel de usuario.</li>
        </ul>
      </section>
    </div>

    <!-- Acciones -->
    <div class="confirmation-actions">
      <button type="button" class="btn-secondary" (click)="printOrder()">
        üñ®Ô∏è Imprimir pedido
      </button>
      <button type="button" class="btn-secondary" (click)="viewMyOrders()">
        üì¶ Ver mis pedidos
      </button>
      <button type="button" class="btn-primary" (click)="continueShopping()">
        üéµ Seguir explorando
      </button>
    </div>
  </div>

  <!-- Mensaje si no hay orden -->
  <div class="no-order" *ngIf="!order">
    <h2>No se encontr√≥ informaci√≥n del pedido</h2>
    <p>Por favor, verifica tu historial de pedidos en tu panel de usuario.</p>
    <button type="button" class="btn-primary" (click)="continueShopping()">
      Volver al inicio
    </button>
  </div>
</section>

<!-- Estilos para impresi√≥n -->
<style media="print">
  .confirmation-actions,
  .btn-primary,
  .btn-secondary {
    display: none !important;
  }
  
  .confirmation-page {
    background: white;
  }
  
  .confirmation-container {
    box-shadow: none;
  }
</style>
